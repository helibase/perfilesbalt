{% extends 'admin_base.html' %}

{% block title %}Configuración{% endblock %}

{% block header %}Configuración del Sitio{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="card">
        <div class="card-body">
            <form action="{{ url_for('admin.update_settings') }}" method="POST">
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h4>Información General</h4>
                        <div class="mb-3">
                            <label for="config_site_title" class="form-label">Título del Sitio</label>
                            <input type="text" class="form-control" id="config_site_title" name="config_site_title"
                                   value="{{ configs|selectattr('key', 'eq', 'site_title')|map(attribute='value')|first|default('PerfilesBalt') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_site_description" class="form-label">Descripción del Sitio</label>
                            <textarea class="form-control" id="config_site_description" name="config_site_description" rows="3">{{ configs|selectattr('key', 'eq', 'site_description')|map(attribute='value')|first|default('') }}</textarea>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4>Información de Contacto</h4>
                        <div class="mb-3">
                            <label for="config_contact_email" class="form-label">Email de Contacto</label>
                            <input type="email" class="form-control" id="config_contact_email" name="config_contact_email"
                                   value="{{ configs|selectattr('key', 'eq', 'contact_email')|map(attribute='value')|first|default('info@perfilesbalt.com') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_contact_phone" class="form-label">Teléfono de Contacto</label>
                            <input type="text" class="form-control" id="config_contact_phone" name="config_contact_phone"
                                   value="{{ configs|selectattr('key', 'eq', 'contact_phone')|map(attribute='value')|first|default('+123 456 7890') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_contact_address" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="config_contact_address" name="config_contact_address"
                                   value="{{ configs|selectattr('key', 'eq', 'contact_address')|map(attribute='value')|first|default('Av. Principal 123, Ciudad Empresarial') }}">
                        </div>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-md-6">
                        <h4>Redes Sociales</h4>
                        <div class="mb-3">
                            <label for="config_social_facebook" class="form-label">Facebook</label>
                            <input type="text" class="form-control" id="config_social_facebook" name="config_social_facebook"
                                   value="{{ configs|selectattr('key', 'eq', 'social_facebook')|map(attribute='value')|first|default('') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_social_twitter" class="form-label">Twitter</label>
                            <input type="text" class="form-control" id="config_social_twitter" name="config_social_twitter"
                                   value="{{ configs|selectattr('key', 'eq', 'social_twitter')|map(attribute='value')|first|default('') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_social_instagram" class="form-label">Instagram</label>
                            <input type="text" class="form-control" id="config_social_instagram" name="config_social_instagram"
                                   value="{{ configs|selectattr('key', 'eq', 'social_instagram')|map(attribute='value')|first|default('') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_social_linkedin" class="form-label">LinkedIn</label>
                            <input type="text" class="form-control" id="config_social_linkedin" name="config_social_linkedin"
                                   value="{{ configs|selectattr('key', 'eq', 'social_linkedin')|map(attribute='value')|first|default('') }}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4>Configuración Avanzada</h4>
                        <div class="mb-3">
                            <label for="config_google_analytics" class="form-label">ID de Google Analytics</label>
                            <input type="text" class="form-control" id="config_google_analytics" name="config_google_analytics"
                                   value="{{ configs|selectattr('key', 'eq', 'google_analytics')|map(attribute='value')|first|default('') }}">
                        </div>
                        <div class="mb-3">
                            <label for="config_meta_keywords" class="form-label">Meta Keywords</label>
                            <input type="text" class="form-control" id="config_meta_keywords" name="config_meta_keywords"
                                   value="{{ configs|selectattr('key', 'eq', 'meta_keywords')|map(attribute='value')|first|default('') }}">
                            <div class="form-text">Separar con comas</div>
                        </div>
                        <div class="mb-3">
                            <label for="config_custom_css" class="form-label">CSS Personalizado</label>
                            <textarea class="form-control" id="config_custom_css" name="config_custom_css" rows="3">{{ configs|selectattr('key', 'eq', 'custom_css')|map(attribute='value')|first|default('') }}</textarea>
                        </div>
                    </div>
                </div>

                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="submit" class="btn btn-primary">Guardar Configuración</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
